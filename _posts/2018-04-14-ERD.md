---
layout: post
title: ER-Modellierung
categories:
  - Lernblog
  - Databases
lang: de
---

Möchte man für ein Projekt eine Datenbank einsetzen, so lohnt es sich, die Struktur dieser durch ein Modell zu planen.

Eine mögliche Modellierungsart ist das [Entity-Relationship-Modell](https://de.wikipedia.org/wiki/Entity-Relationship-Modell).
Dieses möchte durch eine Abstraktion der zu speichernden Daten in *Entitätsklassen* und *Relationen* einen Überblick über die Struktur der Datenbank verschaffen.

![ERD](../assets/legacy_gs_bucket/erd-vollständig.png)

<!--more-->

**Entitätstypen...**  
... stellen eine Abbildung eines Datensatzes dar.
Ein *Entitätstyp* wird im ER-Modell durch einen rechteckigen Kasten gekennzeichnet, in dem sein Name steht.
Mit diesem Kasten sind mehrere ellipsenförmige Attribute verbunden, die diesen Entitätstyp genauer beschreiben.
Beispiel:
![Auto-Diagramm](../assets/legacy_gs_bucket/erd-auto.png)
Der *Entitätstyp* `Auto` besitzt die vier Attribute FahrgestellNummer, Felgengröße, Farbe sowie Baujahr.
Die FahrgestellNummer ist unterstrichen, da sie ein *Schlüsselattribut*[^1] ist:
Durch sie lässt sich ein Auto eindeutig identifizieren, sie ist *einzigartig*.

[^1]: siehe [Einstieg Datenbanken](https://simonknott.de/articles/EinstiegDB#beispiel)

**Relationen...**  
... stellen eine Beziehung zwischen zwei Entitätstypen dar.
Sie kann verschiedene *Kardinalitäten* besitzen, die wichtigsten sind:

| Kardinalität | Beispiel |
| ------------ | -------- |
| {% latex %}1:1{% endlatex %} | {% latex %}1{% endlatex %} Auto enthält {% latex %}1{% endlatex %} Motor |
| | {% latex %}1{% endlatex %} Motor wird von {% latex %}1{% endlatex %} Auto Enthalten |
| {% latex %}1:n{% endlatex %} | 1 Auto wird von {% latex %}n{% endlatex %} Schlüsseln geöffnet |
| | {% latex %}1{% endlatex %} Schlüssel öffnet {% latex %}1{% endlatex %} Auto |
| {% latex %}n:m{% endlatex %} | {% latex %}1{% endlatex %} Auto wird von {% latex %}m{% endlatex %} Fahrern gefahren |
| | {% latex %}1{% endlatex %} Fahrer fährt {% latex %}n{% endlatex %} Autos |

Eine Kardinalität {% latex %}a:b{% endlatex %} zwischen zwei Entitäten {% latex %}A{% endlatex %} sowie {% latex %}B{% endlatex %} liest sich im folgenden Schema:

"1 {% latex %}A{% endlatex %} lässt sich in Beziehung setzen zu {% latex %}b{% endlatex %} {% latex %}B{% endlatex %}"
"1 {% latex %}B{% endlatex %} lässt sich in Beziehung setzen zu {% latex %}a{% endlatex %} {% latex %}A{% endlatex %}"

Im *Entity-Relationship-Diagramm* wird eine *Relation* durch eine Raute zwischen zwei *Entitäten* gekennzeichnet.
An den Verbindungsstellen stehen die *Kardinalitäten* der Beziehung in Lesrichtung.
![Auto-Schlüssel-Diagramm](../assets/legacy_gs_bucket/erd-auto-schlüssel.png)

Lies:
- {% latex %}1{% endlatex %} Schlüssel öffnet {% latex %}1{% endlatex %} Auto
- {% latex %}1{% endlatex %} Auto wird von {% latex %}n{% endlatex %} Schlüsseln geöffnet

Man kann sich merken: Die erste Zahl ist immer eine {% latex %}1{% endlatex %}, erst die zweite ist von der Relation abhängig.

Auch eine Relation kann selbst Attribute enthalten.

![Auto-Verkäufer-Diagramm](../assets/legacy_gs_bucket/erd-auto-verkäufer.png)


Ein vollsständiges ER-Diagramm aus den einzelnen Beispielen ist am Anfang des Posts zu sehen.
